{"version":3,"sources":["webpack:///./templates/item.hbs","webpack:///./js/refs.js","webpack:///./js/gallery-utils.js","webpack:///./js/update-hits-markup.js","webpack:///./js/load-more-btn-action.js","webpack:///./js/empty-input-error-handling.js","webpack:///./js/wrong-input-error-handling.js","webpack:///./js/lightBoxHandler.js","webpack:///./js/scroll-down.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop","refs","itemContainer","document","querySelector","searchForm","loadMoreBtn","loadMoreBtnLabel","loadMoreBtnSpinner","gallery","searchQuery","page","fetchHits","url","this","fetch","then","res","json","hits","resetPage","value","updateHitsMarkup","markup","itemTemplate","insertAdjacentHTML","loadMoreBtnAction","enable","disabled","textContent","classList","add","disable","remove","show","hide","onEmptyErrorHandling","error","title","text","onWrongErrorHandling","lightBoxHandler","event","preventDefault","target","nodeName","largeImgUrl","dataset","bigimg","basicLightbox","scrollDown","currentScrollHeight","window","scrollTo","top","behavior","fetchAndRenderHits","galleryUtils","query","length","screenY","documentElement","scrollHeight","addEventListener","form","currentTarget","elements","innerHTML","reset"],"mappings":"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","file":"main.3bdef334bbd4b4b23e46.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery-element\\\">\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <img class=\\\"img\\\" width=\\\"450\\\" height=\\\"300\\\" src=\\\" \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"image\\\"\\r\\n            data-bigimg=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\" />\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":27,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n  itemContainer: document.querySelector('.gallery'),\r\n  searchForm: document.querySelector('.js-search-form'),\r\n  loadMoreBtn: document.querySelector('.load-more-btn'),\r\n  loadMoreBtnLabel: document.querySelector('.label'),\r\n  loadMoreBtnSpinner: document.querySelector('.spinner'),\r\n  gallery: document.querySelector('.gallery')\r\n};\r\n\r\nexport default refs;\r\n","const apiKey = '18426896-fe41a223570e8075df6a95c49';\r\n\r\nexport default {\r\n  searchQuery: '',\r\n  page: 1,\r\n\r\n  fetchHits() {\r\n    const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${this.searchQuery}&page=${this.page}&per_page=12&key=${apiKey}`;\r\n\r\n    return fetch(url)\r\n      .then(res => res.json())\r\n      .then(({ hits }) => {\r\n        this.page += 1;\r\n        return hits;\r\n      });\r\n  },\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n\r\n  get query() {\r\n    return this.searchQuery;\r\n  },\r\n\r\n  set query(value) {\r\n    this.searchQuery = value;\r\n  },\r\n};\r\n","import itemTemplate from '../templates/item.hbs';\r\nimport refs from './refs';\r\n\r\nfunction updateHitsMarkup(hits) {\r\n  const markup = itemTemplate(hits);\r\n\r\n  refs.itemContainer.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nexport default updateHitsMarkup;\r\n","\r\nimport refs from './refs';\r\n\r\nconst loadMoreBtnAction = {\r\n  enable() {\r\n    refs.loadMoreBtn.disabled = false;\r\n    refs.loadMoreBtnLabel.textContent = 'Show more';\r\n    refs.loadMoreBtnSpinner.classList.add('is-hidden');\r\n  },\r\n\r\n  disable() {\r\n    refs.loadMoreBtn.disabled = true;\r\n    refs.loadMoreBtnLabel.textContent = 'Loading...';\r\n    refs.loadMoreBtnSpinner.classList.remove('is-hidden');\r\n  },\r\n\r\n  show() {\r\n    refs.loadMoreBtn.classList.remove('is-hidden');\r\n  },\r\n\r\n  hide() {\r\n    refs.loadMoreBtn.classList.add('is-hidden');\r\n  },\r\n};\r\n\r\nexport default loadMoreBtnAction","\r\nimport refs from './refs';\r\nimport loadMoreBtnAction from './load-more-btn-action'\r\nimport { error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\n\r\nconst onEmptyErrorHandling = () => {\r\n    \r\n     loadMoreBtnAction.hide();\r\n      error({\r\n        title: 'Ooopsie! Nothing to search for!',\r\n        text: 'Enter something...',\r\n      });\r\n}\r\n\r\nexport default onEmptyErrorHandling","import refs from './refs';\r\nimport loadMoreBtnAction from './load-more-btn-action'\r\nimport { error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\n\r\nconst onWrongErrorHandling = () => {\r\n    loadMoreBtnAction.hide();\r\n      error({\r\n        title: 'Wrong search!',\r\n        text: 'Enter something meaningful',\r\n      });\r\n}\r\n\r\nexport default onWrongErrorHandling","\r\nimport * as basicLightbox from 'basiclightbox';\r\nimport 'basicLightbox/dist/basicLightbox.min.css';\r\n\r\nconst lightBoxHandler = (event) => {\r\n          event.preventDefault();\r\n          if (event.target.nodeName !== \"IMG\") return\r\n          let largeImgUrl = event.target.dataset.bigimg;\r\n        \r\n          const instance = basicLightbox.create(\r\n            `<img src=\"${largeImgUrl}\" width=\"800\" height=\"600\">`,\r\n          );\r\n          instance.show();\r\n}\r\n        \r\nexport default lightBoxHandler","const scrollDown = (currentScrollHeight) => {window.scrollTo({\r\n          top: currentScrollHeight - (40 + 40),\r\n          behavior: 'smooth',\r\n});\r\n}\r\n        \r\nexport default scrollDown;","import './styles.css';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport 'basicLightbox/dist/basicLightbox.min.css';\r\n\r\nimport refs from './js/refs';\r\nimport galleryUtils from './js/gallery-utils';\r\nimport updateHitsMarkup from './js/update-hits-markup';\r\nimport onEmptyErrorHandling from './js/empty-input-error-handling'\r\nimport onWrongErrorHandling from './js/wrong-input-error-handling'\r\nimport loadMoreBtnAction from './js/load-more-btn-action'\r\nimport lightBoxHandler from './js/lightBoxHandler'\r\nimport scrollDown from './js/scroll-down'\r\n\r\nconst fetchAndRenderHits = () => {\r\n\r\n  loadMoreBtnAction.disable();\r\n\r\n  if (galleryUtils.query.length) {\r\n    galleryUtils.fetchHits().then(hits => {\r\n\r\n      if (hits.length) {\r\n\r\n        const screenY = document.documentElement.scrollHeight;\r\n\r\n        updateHitsMarkup(hits);\r\n        scrollDown(screenY);\r\n        loadMoreBtnAction.show();\r\n        loadMoreBtnAction.enable();\r\n\r\n        refs.gallery.addEventListener('click', lightBoxHandler)\r\n      } else {\r\n        onWrongErrorHandling()\r\n      }\r\n    })\r\n  } else {\r\n    onEmptyErrorHandling()\r\n  }\r\n}\r\n\r\nrefs.searchForm.addEventListener('submit', event => {\r\n  event.preventDefault();\r\n\r\n  const form = event.currentTarget;\r\n  galleryUtils.query = form.elements.query.value;\r\n\r\n  refs.itemContainer.innerHTML = '';\r\n\r\n  galleryUtils.resetPage();\r\n\r\n  fetchAndRenderHits();\r\n  form.reset();\r\n});\r\n\r\nrefs.loadMoreBtn.addEventListener('click', fetchAndRenderHits);\r\n"],"sourceRoot":""}